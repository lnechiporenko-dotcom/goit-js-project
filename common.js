(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();let C=null;function S(e,t="success"){const n=document.getElementById("js-global-notification"),r=document.getElementById("js-global-notification-text");!n||!r||(C&&(clearTimeout(C),C=null),r.textContent=e,n.classList.remove("global-notification--error"),t==="error"?n.classList.add("global-notification--error"):t==="warning"&&n.classList.add("global-notification--warning"),n.classList.add("global-notification--visible"),C=setTimeout(()=>{te()},3e3))}function te(){const e=document.getElementById("js-global-notification"),t=document.getElementById("js-global-notification-text");e&&(C&&(clearTimeout(C),C=null),e.classList.remove("global-notification--visible"),setTimeout(()=>{t&&(t.textContent=""),e.classList.remove("global-notification--error","global-notification--warning")},300))}function ce(){const e=document.getElementById("js-global-notification-close");e&&e.addEventListener("click",te)}function w(e,t,n){if(e){const r=e.classList.contains("rating-modal__textarea")?"rating-modal__textarea--error":e.classList.contains("rating-modal__input")?"rating-modal__input--error":e.classList.contains("footer__subscribe-form-input")?"footer__subscribe-form-input--error":"form-field--error";e.classList.add(r)}t&&(t.textContent=n,t.classList.add("form-error--visible"))}function v(e,t){e&&e.classList.remove("rating-modal__input--error","rating-modal__textarea--error","footer__subscribe-form-input--error","form-field--error"),t&&(t.textContent="",t.classList.remove("form-error--visible"))}function Y(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}document.getElementById("year").textContent=new Date().getFullYear();let N=null;function le(e,t="error"){const n=document.getElementById("js-rating-server-message"),r=document.getElementById("js-rating-server-message-text");!n||!r||(r.textContent=e,n.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"),n.classList.add(`rating-modal__server-message--${t}`),n.classList.add("rating-modal__server-message--visible"))}function O(){const e=document.getElementById("js-rating-server-message"),t=document.getElementById("js-rating-server-message-text");e&&(e.classList.remove("rating-modal__server-message--visible"),t&&(t.textContent=""),e.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"))}function H(){const e=document.getElementById("js-rating-modal");if(!e)return;e.classList.remove("rating-modal--open"),document.body.style.overflow="",N=null;const t=document.getElementById("js-rating-modal-email"),n=document.getElementById("js-email-error"),r=document.getElementById("js-rating-modal-comment"),s=document.getElementById("js-comment-error"),o=document.getElementById("js-rating-error");v(t,n),v(r,s),v(null,o),O()}function de(e){const t=document.getElementById("js-rating-modal");if(!t)return;N=e;const n=document.getElementById("js-rating-modal-form"),r=document.getElementById("js-rating-modal-email"),s=document.getElementById("js-rating-modal-comment"),o=document.getElementById("js-rating-modal-value"),a=document.querySelectorAll(".rating-modal__star");n&&n.reset(),o&&(o.textContent="0.0");const c=document.getElementById("js-email-error"),i=document.getElementById("js-comment-error"),l=document.getElementById("js-rating-error");v(r,c),v(s,i),v(null,l),O(),a.forEach(u=>{u.classList.remove("rating-modal__star--active");const f=u.querySelector("svg");if(f){const _=f.querySelector("path");_&&(_.setAttribute("fill","none"),_.setAttribute("stroke","currentColor"))}}),t.classList.add("rating-modal--open"),document.body.style.overflow="hidden"}function me(){const e=document.getElementById("js-rating-modal-close"),t=document.getElementById("js-rating-modal"),n=t==null?void 0:t.querySelector(".rating-modal__overlay");e&&e.addEventListener("click",H),n&&n.addEventListener("click",H);const r=document.getElementById("js-rating-server-message-close");r&&r.addEventListener("click",O);const s=document.querySelectorAll(".rating-modal__star"),o=document.getElementById("js-rating-modal-value");let a=0;s.forEach((_,d)=>{_.addEventListener("click",()=>{a=d+1,o&&(o.textContent=a.toFixed(1)),s.forEach((m,g)=>{if(g<a){m.classList.add("rating-modal__star--active");const y=m.querySelector("svg");if(y){const x=y.querySelector("path");x&&(x.setAttribute("fill","#EEA10C"),x.setAttribute("stroke","#EEA10C"))}}else{m.classList.remove("rating-modal__star--active");const y=m.querySelector("svg");if(y){const x=y.querySelector("path");x&&(x.setAttribute("fill","none"),x.setAttribute("stroke","currentColor"))}}})}),_.addEventListener("mouseenter",()=>{const m=d+1;s.forEach((g,y)=>{y<m&&!g.classList.contains("rating-modal__star--active")&&(g.style.color="rgba(255, 255, 255, 0.6)")})}),_.addEventListener("mouseleave",()=>{s.forEach((m,g)=>{m.classList.contains("rating-modal__star--active")||(m.style.color="rgba(255, 255, 255, 0.3)")})})});const c=document.getElementById("js-rating-modal-email"),i=document.getElementById("js-email-error"),l=document.getElementById("js-rating-modal-comment"),u=document.getElementById("js-comment-error");c&&i&&c.addEventListener("input",()=>{v(c,i)}),l&&u&&l.addEventListener("input",()=>{v(l,u)}),s.forEach(_=>{_.addEventListener("click",()=>{const d=document.getElementById("js-rating-error");d&&v(null,d)})});const f=document.getElementById("js-rating-modal-form");f&&f.addEventListener("submit",_=>{_.preventDefault();const d=document.querySelectorAll(".rating-modal__star");document.getElementById("js-rating-modal-value");const m=document.getElementById("js-rating-modal-email"),g=document.getElementById("js-rating-modal-comment"),y=document.getElementById("js-email-error"),x=document.getElementById("js-comment-error"),P=document.getElementById("js-rating-error");let p=0,k=!1;d.forEach((b,E)=>{b.classList.contains("rating-modal__star--active")&&(p=Math.max(p,E+1))}),p===0?(w(null,P,"Please select a rating"),k=!0):v(null,P);const J=(m==null?void 0:m.value.trim())||"",W=(g==null?void 0:g.value.trim())||"";J?Y(J)?v(m,y):(w(m,y,"Please enter a valid email address"),k=!0):(w(m,y,"Please enter your email"),k=!0),W?v(g,x):(w(g,x,"Please enter your comment"),k=!0),!k&&N&&(O(),fetch(`https://your-energy.b.goit.study/api/exercises/${N}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate:p,email:J,review:W})}).then(async b=>{const E=await b.json();if(!b.ok)throw{message:E.message,data:E};return E}).then(b=>{H();const E=b.name||"the exercise";S(`Thank you, your review for exercise ${E} has been submitted`,"success")}).catch(b=>{const E=b.message||"Failed to submit rating. Please try again.";le(E,"error")}))})}const U="favorites";function D(){try{const e=localStorage.getItem(U);return e?JSON.parse(e):[]}catch{return[]}}function ue(e){try{const t=D();return t.includes(e)?!1:(t.push(e),localStorage.setItem(U,JSON.stringify(t)),!0)}catch{return!1}}function _e(e){try{const n=D().filter(r=>r!==e);return localStorage.setItem(U,JSON.stringify(n)),!0}catch{return!1}}function ne(e){return D().includes(e)}function fe(e){return ne(e)?(_e(e),!1):(ue(e),!0)}let G="home",L=null,q=null,K=null,z=null;function X(e){if(G===e)return;G=e,document.querySelectorAll(".header__nav-link").forEach(r=>{r.getAttribute("data-page")===e?r.classList.add("header__nav-link--active"):r.classList.remove("header__nav-link--active")}),document.querySelectorAll(".mobile-menu__nav-link").forEach(r=>{r.getAttribute("data-page")===e?r.classList.add("mobile-menu__nav-link--active"):r.classList.remove("mobile-menu__nav-link--active")}),e==="home"?ae():e==="favorites"&&je()}function ge(){L&&(L.classList.add("is-open"),q.classList.add("is-hidden"),z.classList.add("active"),document.body.style.overflow="hidden")}function Q(){L&&(L.classList.remove("is-open"),q.classList.remove("is-hidden"),z.classList.remove("active"),document.body.style.overflow="")}function ve(){document.querySelectorAll(".header__nav-link").forEach(n=>{n.addEventListener("click",r=>{r.preventDefault();const s=n.getAttribute("data-page");s&&X(s)})}),L=document.querySelector(".mobile-menu"),q=document.querySelector(".header__burger"),K=document.querySelector(".mobile-menu__close"),z=document.getElementById("overlay"),q&&q.addEventListener("click",ge),K&&K.addEventListener("click",Q),document.querySelectorAll(".mobile-menu__nav-link").forEach(n=>{n.addEventListener("click",r=>{r.preventDefault();const s=n.getAttribute("data-page");s&&(X(s),Q())})}),L&&L.addEventListener("click",n=>{n.target===L&&Q()})}function ye(){return G}let re=null;function A(){const e=document.getElementById("js-exercise-modal");e&&(e.classList.remove("exercise-modal--open"),document.body.style.overflow="")}function he(e){const t=document.getElementById("js-exercise-modal");if(!t)return;re=e,t.classList.add("exercise-modal--open"),document.body.style.overflow="hidden";const n=document.getElementById("js-exercise-modal-image"),r=document.getElementById("js-exercise-modal-title"),s=document.querySelector(".exercise-modal__rating-value"),o=document.querySelector(".exercise-modal__rating-stars"),a=document.getElementById("js-exercise-modal-target"),c=document.getElementById("js-exercise-modal-body-part"),i=document.getElementById("js-exercise-modal-equipment"),l=document.getElementById("js-exercise-modal-popular"),u=document.getElementById("js-exercise-modal-calories"),f=document.getElementById("js-exercise-modal-time"),_=document.getElementById("js-exercise-modal-description");r&&(r.textContent="Loading..."),s&&(s.textContent="0.0"),a&&(a.textContent=""),c&&(c.textContent=""),i&&(i.textContent=""),l&&(l.textContent="0"),u&&(u.textContent="0"),f&&(f.textContent="/0 min"),_&&(_.textContent=""),n&&(n.src=""),fetch(`https://your-energy.b.goit.study/api/exercises/${e}`).then(d=>{if(!d.ok)throw new Error("Failed to fetch exercise details");return d.json()}).then(d=>{if(n&&(n.src=d.gifUrl||""),r&&(r.textContent=d.name||""),a&&(a.textContent=d.target||""),c&&(c.textContent=d.bodyPart||""),i&&(i.textContent=d.equipment||""),l&&(l.textContent=d.popularity||0),u&&(u.textContent=d.burnedCalories||0),f&&(f.textContent=`/${d.time||0} min`),_&&(_.textContent=d.description||""),s&&(s.textContent=(d.rating||0).toFixed(1)),o){const g=o.querySelectorAll(".exercise-modal__rating-star"),y=Math.round(d.rating||0);g.forEach((x,P)=>{const p=x.querySelector("path");P<y?(p.setAttribute("fill","#EEA10C"),p.removeAttribute("stroke"),p.removeAttribute("stroke-width")):(p.setAttribute("fill","none"),p.setAttribute("stroke","rgba(255,255,255,0.3)"),p.setAttribute("stroke-width","1.5"))})}se(e);const m=document.getElementById("js-exercise-modal-rating-btn");if(m){const g=m.cloneNode(!0);m.parentNode.replaceChild(g,m),g.addEventListener("click",()=>{A(),de(e)})}}).catch(d=>{r&&(r.textContent="Error loading exercise"),_&&(_.textContent="Failed to load exercise details. Please try again later.")})}function se(e){const t=document.getElementById("js-exercise-modal-favorites");if(!t)return;const n=ne(e),r=t.querySelector("span"),s=t.querySelector("svg path");n?(t.classList.add("active"),r&&(r.textContent="Remove from favorites"),s&&(s.setAttribute("fill","currentColor"),s.removeAttribute("stroke"),s.removeAttribute("stroke-width"))):(t.classList.remove("active"),r&&(r.textContent="Add to favorites"),s&&(s.setAttribute("fill","none"),s.setAttribute("stroke","currentColor"),s.setAttribute("stroke-width","2")))}function xe(){const e=document.getElementById("js-exercise-modal-close"),t=document.getElementById("js-exercise-modal"),n=t==null?void 0:t.querySelector(".exercise-modal__overlay");e&&e.addEventListener("click",A),n&&n.addEventListener("click",A);const r=document.getElementById("js-exercise-modal-favorites");r&&r.addEventListener("click",()=>{const s=re;if(!s)return;const o=fe(s);se(s),!o&&ye()==="favorites"&&(A(),Z())})}let I="Muscles",B=1,h=null,j="",F="home";const V=10;function pe(e,t,n=""){if(!e)return"";const r="https://wsrv.nl/?url=",s=`${r}${e}&w=150&output=webp&q=75`,o=`${r}${e}&w=350&output=webp&q=75`,a=`${r}${e}&w=700&output=webp&q=80`;return`
    <img 
      class="${n}" 
      src="${o}" 
      srcset="${s} 150w, ${o} 350w, ${a} 700w"
      sizes="(max-width: 767px) 150px, (max-width: 1440px) 350px, 350px"
      alt="${t}" 
      loading="lazy" 
      decoding="async"
    />
  `}function Ee(){const e=document.getElementById("js-exercises-search");e&&(e.style.display="flex")}function oe(){const e=document.getElementById("js-exercises-search"),t=document.getElementById("js-exercises-search-input");e&&(e.style.display="none"),t&&(t.value=""),j=""}function be(){const e=document.querySelector(".exercises__content__main__cards");e&&e.addEventListener("click",t=>{const n=t.target.closest(".exercises__content__main__cards-item");if(!n)return;const r=n.getAttribute("data-category-name");if(r){$(r);return}const s=n.getAttribute("data-exercise-id");if(s){he(s);return}})}function Le(){const e=document.querySelector(".home__hashtags");e&&e.addEventListener("click",t=>{const n=t.target.closest("button");if(!n)return;const r=n.getAttribute("data-keyword")||n.textContent.replace("#","").trim();if(F!=="home"){const a=document.querySelector('.header__nav-link[data-page="home"]');a?a.click():ae()}const s=document.getElementById("js-exercises-search-input");s&&(s.value=r);const o=document.querySelector(".exercises__content");o&&o.scrollIntoView({behavior:"smooth"}),h?$(h,1,r):S("Please select a category (e.g., abs) to start searching.","error")})}function Ce(e){return`
    <div class="exercises__content__main__cards-item" data-category-name="${e.name}">
      <div class="exercises__content__main__cards-item-image">
        ${pe(e.imgURL,`${e.name} exercise`)}
        <div class="exercises__content__main__cards-item-overlay">
          <div class="exercises__content__main__cards-item-overlay-name">${e.name}</div>
          <div class="exercises__content__main__cards-item-overlay-category">${e.filter}</div>
        </div>
      </div>
    </div>
  `}function Ie(e){const t=e.rating||0,n=e.burnedCalories||0,r=e.time||0,s=e.bodyPart||"",o=e.target||"";return`
    <div class="exercises__content__main__cards-item exercises__content__main__cards-item--exercise" data-exercise-id="${e._id||""}">
      <div class="exercises__content__main__cards-item-header">
        <button class="exercises__content__main__cards-item-workout-btn">WORKOUT</button>
        <div class="exercises__content__main__cards-item-rating">
          <span class="exercises__content__main__cards-item-rating-value">${t.toFixed(1)}</span>
          <svg class="exercises__content__main__cards-item-rating-star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 0L11.0206 6.21885L17.5595 6.21885L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885L6.97937 6.21885L9 0Z" fill="#EEA10C"/>
          </svg>
        </div>
        <button class="exercises__content__main__cards-item-start-btn">
          Start
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.75 4.5L11.25 9L6.75 13.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
      <div class="exercises__content__main__cards-item-body">
        <div class="exercises__content__main__cards-item-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 17L12 22L22 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 12L12 17L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h3 class="exercises__content__main__cards-item-title">${e.name}</h3>
      </div>
      <div class="exercises__content__main__cards-item-footer">
        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Burned calories:</span>
          <span class="exercises__content__main__cards-item-info-value">${n}</span>
          <span class="exercises__content__main__cards-item-info-label">/ ${r} min</span>
        </div>
        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Body part:</span>
          <span class="exercises__content__main__cards-item-info-value">${s}</span>
        </div>
        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Target:</span>
          <span class="exercises__content__main__cards-item-info-value">${o}</span>
        </div>
      </div>
    </div>
  `}function Be(e){const t=document.querySelector(".exercises__content__main__cards");t&&(t.classList.remove("exercises__content__main__cards--exercises"),t.innerHTML="",e.forEach(n=>{const r=Ce(n);t.insertAdjacentHTML("beforeend",r)}))}function ie(e){const t=document.querySelector(".exercises__content__main__cards");t&&(t.classList.add("exercises__content__main__cards--exercises"),t.innerHTML="",e.forEach(n=>{const r=Ie(n);t.insertAdjacentHTML("beforeend",r)}))}function we(){const e=document.querySelector(".exercises__content__main__cards");if(!e)return;e.classList.add("exercises__content__main__cards--exercises"),e.innerHTML="",e.insertAdjacentHTML("beforeend",`
    <div class="exercises__content__main__empty-state">
      <p class="exercises__content__main__empty-state-text">
        Unfortunately, no results were found. You may want to consider other search options.
      </p>
    </div>
  `)}function M(e=null){const t=document.getElementById("js-exercises-breadcrumbs");if(!t)return;if(t.innerHTML="",F==="favorites"){const r=document.createElement("button");r.className="exercises__content__header-breadcrumbs-item exercises__content__header-breadcrumbs-item--active",r.textContent="Favorites",r.setAttribute("data-breadcrumb","favorites"),t.appendChild(r);return}const n=document.createElement("button");if(n.className="exercises__content__header-breadcrumbs-item",n.textContent="Exercises",n.setAttribute("data-breadcrumb","exercises"),e||n.classList.add("exercises__content__header-breadcrumbs-item--active"),n.addEventListener("click",()=>{h=null,B=1,T(I,B)}),t.appendChild(n),e){const r=document.createElement("span");r.className="exercises__content__header-breadcrumbs-separator",r.textContent="/",t.appendChild(r);const s=document.createElement("button");s.className="exercises__content__header-breadcrumbs-item exercises__content__header-breadcrumbs-item--active",s.textContent=e,t.appendChild(s)}}function R(e,t=1){const n=document.querySelector(".exercises__content__pagination");if(!n||(n.innerHTML="",e<=1))return;const r=i=>{B=i,F==="favorites"?Z(i):h?$(h,i,j):T(I,i)},s=(i,l,u)=>{const f=document.createElement("button");return f.className="exercises__content__pagination-arrow",f.innerHTML=i,f.disabled=l,f.addEventListener("click",u),f},o=i=>{const l=document.createElement("button");return l.className="exercises__content__pagination-page",l.textContent=i,i===t&&l.classList.add("exercises__content__pagination-page--active"),l.addEventListener("click",()=>r(i)),l},a=()=>{const i=document.createElement("span");return i.className="exercises__content__pagination-ellipsis",i.textContent="...",i};n.appendChild(s("&laquo;",t===1,()=>r(1))),n.appendChild(s("&lsaquo;",t===1,()=>r(t-1)));const c=[];if(c.push(1),e<=7)for(let i=2;i<=e;i++)c.push(i);else{let i=t-1,l=t+1;t<5&&(i=2,l=5),t>e-4&&(i=e-4,l=e-1),i>2&&c.push("...");for(let u=i;u<=l;u++)u>1&&u<e&&c.push(u);l<e-1&&c.push("..."),e>1&&c.push(e)}c.forEach(i=>{i==="..."?n.appendChild(a()):n.appendChild(o(i))}),n.appendChild(s("&rsaquo;",t===e,()=>r(t+1))),n.appendChild(s("&raquo;",t===e,()=>r(e)))}function T(e,t=1){I=e,B=t,oe();const r=`https://your-energy.b.goit.study/api/filters?filter=${encodeURIComponent(e)}&page=${t}`;fetch(r).then(s=>s.json()).then(s=>{const o=s.results||s.exercises||s||[],a=s.totalPages||s.total_pages||s.pageCount||1;Array.isArray(o)&&o.length>0?(h=null,M(null),Be(o),R(a,t)):(M(null),R(1,1))})}function $(e,t=1,n=j){h=e,B=t,j=n,Ee();let r="";I==="Muscles"?r="muscles":I==="Body parts"?r="bodypart":I==="Equipment"&&(r="equipment");const s=encodeURIComponent(e);let o=`https://your-energy.b.goit.study/api/exercises?${r}=${s}&page=${t}&limit=10`;if(n&&n.trim()!==""){const a=encodeURIComponent(n.trim());o+=`&keyword=${a}`}fetch(o).then(a=>{if(a.status===409)return{results:[],totalPages:0};if(!a.ok)throw new Error("Search failed");return a.json()}).then(a=>{const c=a.results||[],i=a.totalPages||1;if(M(e),Array.isArray(c)&&c.length>0)ie(c),R(i,t);else{we();const l=document.querySelector(".exercises__content__pagination");l&&(l.innerHTML="")}})}function Se(){const e=document.getElementById("js-exercises-search"),t=document.getElementById("js-exercises-search-input");if(!e||!t)return;const n=()=>{const s=t.value.trim().toLowerCase();h?$(h,1,s):S("Please select a category first","error")};t.addEventListener("input",s=>{s.target.value.trim()===""&&h&&$(h,1,"")}),t.addEventListener("keydown",s=>{s.key==="Enter"&&(s.preventDefault(),n())});const r=e.querySelector(".exercises__content__header-search-icon");r&&r.addEventListener("click",n)}function ee(){const e=document.querySelector(".exercises__content__main__cards");if(!e)return;e.classList.add("exercises__content__main__cards--exercises"),e.innerHTML="",e.insertAdjacentHTML("beforeend",`
    <div class="exercises__content__main__empty-state">
      <p class="exercises__content__main__empty-state-text">
        It appears that you haven't added any exercises to your favorites yet. 
        To get started, you can add exercises that you like to your favorites 
        for easier access in the future.
      </p>
    </div>
  `)}function Z(e=1){B=e;const t=D();if(M(null),t.length===0){ee();const c=document.querySelector(".exercises__content__pagination");c&&(c.innerHTML="");return}const n=Math.ceil(t.length/V);e>n&&(e=n,B=e);const r=(e-1)*V,s=r+V,a=t.slice(r,s).map(c=>fetch(`https://your-energy.b.goit.study/api/exercises/${c}`).then(i=>{if(!i.ok)throw new Error("Failed to fetch exercise");return i.json()}).catch(i=>null));Promise.all(a).then(c=>{const i=c.filter(l=>l!==null);i.length>0?(ie(i),R(n,e)):ee()})}function ae(){F="home",h=null,j="";const e=document.querySelector(".exercises__content__header-filters");e&&(e.style.display="flex");const t=document.querySelector(".exercises__content");t&&t.classList.remove("exercises__content--favorites"),T(I,1)}function je(){F="favorites",h=null,j="";const e=document.querySelector(".exercises__content__header-filters");e&&(e.style.display="none"),oe();const t=document.querySelector(".exercises__content");t&&t.classList.add("exercises__content--favorites"),Z()}function ke(){const e=document.getElementById("subscribeForm"),t=document.getElementById("subscribeEmail"),n=document.getElementById("subscribeEmailError");!e||!t||!n||(t.addEventListener("input",()=>{(Y(t.value)||t.value.trim()==="")&&v(t,n)}),e.addEventListener("submit",async r=>{r.preventDefault();const s=t.value.trim();if(!s){w(t,n,"Please enter your email address");return}if(!Y(s)){w(t,n,"Please enter a valid email address (e.g. name@gmail.com)");return}v(t,n);try{const o=await fetch("https://your-energy.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})});if(o.ok){const a=await o.json();S(a.message,"success"),e.reset()}else if(o.status===409)S("You've already subscribed. No need to resubscribe.","warning"),e.reset();else throw new Error("Subscription failed")}catch(o){S("Something went wrong. Please try again later.","error"),console.error(o)}}))}function qe(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}async function Ae(){const e=localStorage.getItem("quote-text"),t=localStorage.getItem("quote-author"),n=localStorage.getItem("quote-date"),r=qe();if(e&&t&&n&&n===r)return{quote:e,author:t};try{const o=await(await fetch("https://your-energy.b.goit.study/api/quote")).json();return localStorage.setItem("quote-text",o.quote),localStorage.setItem("quote-author",o.author),localStorage.setItem("quote-date",r),{quote:o.quote,author:o.author}}catch{return e&&t?{quote:e,author:t}:null}}async function Me(){const e=await Ae();if(!e)return;const t=document.getElementById("js-exercises-quote-text"),n=document.getElementById("js-exercises-quote-author");t&&(t.textContent=e.quote),n&&(n.textContent=e.author)}Me();document.addEventListener("DOMContentLoaded",()=>{xe(),me(),ce(),ve(),Se(),be(),Le(),ke(),T("Muscles",1),document.addEventListener("keydown",t=>{t.key==="Escape"&&(A(),H())});const e=document.querySelectorAll(".exercises__content__header-filters-item");e.forEach(t=>{t.addEventListener("click",()=>{e.forEach(r=>r.classList.remove("exercises__content__header-filters-item--active")),t.classList.add("exercises__content__header-filters-item--active");const n=t.getAttribute("data-filter");M(null),T(n,1)})})});
//# sourceMappingURL=common.js.map
